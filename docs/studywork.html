<!doctype html>
<html class="theme-light">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1,user-scalable=no">
<meta name="description" content="Studienarbeit">

<meta name="keywords" content="">
<title>Studienarbeit</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.18.1/styles/vs2015.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/markdown-it-texmath/css/texmath.css">
<link rel="stylesheet" href="./theme/styles.css">
<script src="https://cdn.jsdelivr.net/gh/goessner/g2@v3.0/src/g2.core.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/goessner/g2@v3.0/src/g2.ext.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/goessner/g2@v3.0/src/g2.mec.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/goessner/mec2@master/mec2.js"></script>
<script src="https://cdn.jsdelivr.net/npm/tweakpane@1.5.5/dist/tweakpane.min.js"></script>
</head>
<body>
<header>
  <a href="./index.html" class="left">&lt;ctrl-ing&gt;</a>
  <span class="right"><a href="./index.html">About</a> | <a href="https://github.com/dmitrijLo/ctrl-ing">Source</a></span>
</header>
<main>
<nav>
  <nav-pane base="." detail=false></nav-pane>
</nav>
<article>
  <h3 id="abstract">Abstract</h3>
<h2 id="einleitung">Einleitung</h2>
<aside>
<g-2 width="250" height="200" x0="30" y0="50" cartesian>
{ 
"main": [
    { "c": "beam", "a": { "pts":[0,50,40,20,100,120],"fs":"silver", "label":{"str":"b", "off": 5 }}},
    { "c": "bar", "a": { "x1":0, "y1":0, "x2":0, "y2":50, "label":{"str":"a", "off": -5 }}},
    { "c": "bar", "a": { "x1":0, "y1":50, "x2":100, "y2":120, "label":{"str":"b", "off": -5 }}},
    { "c": "bar", "a": { "x1":200, "y1":0, "x2":100, "y2":120, "label":{"str":"b", "off": 5 }}},
    { "c": "origin","a": {"x": 0,"y": 0,"lw": 1.5}},
    { "c": "nodfix", "a": { "x":0, "y":0, "label":{"str":"A0", "loc": "sw", "off": 15 } } },
    { "c": "nodfix", "a": { "x":200, "y":0, "label":{"str":"B0", "loc": "sw", "off": 15 } } },
    { "c": "nod", "a": { "x":0, "y":50, "label":{"str":"A", "loc": "nw", "off": 5 } } },
    { "c": "nod", "a": { "x":100, "y":120, "label":{"str":"B", "loc": "ne", "off": 5 } } },
    { "c": "nod", "a": { "x":40, "y":20, "label":{"str":"K", "loc": "n", "off": 5 } } }
]
}
</g-2>
<h4>Abb. 1: Webbasiertes Modell eines Viergelenks mit Koppelpunkt</h4>
</aside>
<p>An der Fachhochschule Dortmund vermittelt das Wahlpflichtmodul Web-Kinematik den Studiereden des Fachbereichs Maschinenbau die fundamentalen Grundlagen moderner Webtechnologien. Dabei werden Problemstellungen der technischen Mechanik mittels HTML, CSS und JavaScript in eine einfache Form einer Webanwendung überführt. Abbildung 1 zeigt beispielhaft das webbasierte Modell eines Viergelenkgetriebes, welches einer typischen Aufgabenstellung entspricht. Ist das Modell einmal überführt, lassen sich zahlreiche Eigenschaften dessen analysieren. So kann beispielweise die Umlauffähigkeit, die zurückgelegte Bahn einzelner Punkte, die Geschwindigkeit oder Beschleunigung z.B des ebenfalls dargestellten Koppelpunktes oder gar die unterschiedlichen Pole der ebenen Bewegung visualisiert werden.</p>
<p>Um das webbasierte Modell hinreichend analysieren zu können, bedarf es interaktiver Elemente, die das Steuern und Verstellen des Modells direkt im Webbrowser ermöglichen. Andernfalls ist der häufige Eingriff in den Quelltext erforderlich, was zum einen zu Fehlern führen kann und zum andren beispielsweise während einer Präsentation undenkbar ist.</p>
<p>HTML bietet von sich aus eine Vielzahl an Elementen, welche in Verbindung mit JavaScript die gewünschte Interaktivität gewähren. So lassen sich standardmäßig</p>
<ul>
<li>Eingabefelder</li>
<li>Schieberegler</li>
<li>Knöpfe</li>
<li>Checkboxen</li>
<li>Auswahllisten</li>
<li>u.v.m</li>
</ul>
<p>recht einfach realisieren. Allerdings erfordert die Implementierung dieser Elemente eine Menge repetitiver und vor allem monotoner Codezeilen, die stetig mit der Anzahl an Eingabemöglichkeiten wachsen. Die Auflistungen 1 und 2 sollen diesen Sachverhalt verdeutlichen. Für das Beispiel aus Abbildung 1 wurde zur Variation der Gliedlängen <eq><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">a</span></span></span></span></eq>, <eq><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">b</span></span></span></span></eq>, <eq><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">c</span></span></span></span></eq> und <eq><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">d</span></span></span></span></eq> jeweils ein Eingabefeld, zudem ein Schieberegler zur Steuerung des Drehwinkels <eq><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>φ</mi></mrow><annotation encoding="application/x-tex">\varphi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">φ</span></span></span></span></eq> der Kurbel, mehrere Checkboxen zum Aktivieren/Deaktivieren der jeweiligen Darstellung vom Momentanpol, Wendepol, Wendekreis, Geschwindigkeitsvektor, Beschleunigungsvektor und der Koppelkurve und zwei Knöpfe zum Starten bzw. Zurücksetzen der Animation erstellt. Abgesehen von der bereits erwähnten Monotonie, schwindet insbesondere beim HTML die Übersichtlichkeit und damit die Lesbarkeit des Codes. Zu allem Übel ist der Code nicht einmal wiederverwendbar.</p>
<h4 id="listing-1-html-struktur-zur-erzeugung-einer-variation-an-bedienelementen">Listing 1: HTML Struktur zur Erzeugung einer Variation an Bedienelementen</h4>
<pre><code class="code-line language-HTML"><div><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;display&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;display&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;input-a&quot;</span>&gt;</span>Länge a:
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;number&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;input-a&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;feld&quot;</span> <span class="hljs-attr">min</span>=<span class="hljs-string">&quot;10&quot;</span> <span class="hljs-attr">max</span>=<span class="hljs-string">&quot;800&quot;</span> <span class="hljs-attr">step</span>=<span class="hljs-string">&quot;1&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>mm
    <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;input-b&quot;</span>&gt;</span>Länge b:
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;number&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;input-b&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;feld&quot;</span> <span class="hljs-attr">min</span>=<span class="hljs-string">&quot;10&quot;</span> <span class="hljs-attr">max</span>=<span class="hljs-string">&quot;800&quot;</span> <span class="hljs-attr">step</span>=<span class="hljs-string">&quot;1&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>mm
    <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;input-c&quot;</span>&gt;</span>Lände c:
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;number&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;input-c&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;feld&quot;</span> <span class="hljs-attr">min</span>=<span class="hljs-string">&quot;10&quot;</span> <span class="hljs-attr">max</span>=<span class="hljs-string">&quot;800&quot;</span> <span class="hljs-attr">step</span>=<span class="hljs-string">&quot;1&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>mm
    <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;input-d&quot;</span>&gt;</span>Länge d:
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;number&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;input-d&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;feld&quot;</span> <span class="hljs-attr">min</span>=<span class="hljs-string">&quot;10&quot;</span> <span class="hljs-attr">max</span>=<span class="hljs-string">&quot;800&quot;</span> <span class="hljs-attr">step</span>=<span class="hljs-string">&quot;1&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>mm
    <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;phiSlider&quot;</span>&gt;</span><span class="hljs-symbol">&amp;phiv;</span>:
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;range&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;phiSlider&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;slider&quot;</span> <span class="hljs-attr">min</span>=<span class="hljs-string">&quot;0&quot;</span> <span class="hljs-attr">max</span>=<span class="hljs-string">&quot;360&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">output</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;phiOut&quot;</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;phiSlider&quot;</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-name">output</span>&gt;</span>°
    <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;speed&quot;</span>&gt;</span>Geschwindigkeit:<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;speed&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;0.5&quot;</span>&gt;</span>0,5x<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;1&quot;</span> <span class="hljs-attr">selected</span>&gt;</span>1x<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;2&quot;</span>&gt;</span>2x<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;4&quot;</span>&gt;</span>4x<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;velocity&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;velocity&quot;</span>&gt;</span> Geschwindigkeit anzeigen<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;acceleration&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;acceleration&quot;</span>&gt;</span> Beschleunigung anzeigen<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;path&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;path&quot;</span>&gt;</span> Bahn des Koppelpunktes anzeigen<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;releaseK&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;releaseK&quot;</span>&gt;</span> Koppelpunkt lösen<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;connectK&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;connectK&quot;</span>&gt;</span> Koppelpunkt verbinden<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;startButton&quot;</span>&gt;</span>Start<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;resetButton&quot;</span>&gt;</span>Reset<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;info&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>   
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</div></code></pre>
<h4 id="listing-2-herstellen-der-interaktivit%C3%A4t-durch-kopplung-zwischen-html-und-javascript-mittels-event-handler">Listing 2: Herstellen der Interaktivität durch Kopplung zwischen HTML und JavaScript mittels Event-Handler</h4>
<pre><code class="code-line language-JavaScript"><div><span class="hljs-comment">// Erstellung der Referenzen zu den jeweiligen HTML-Elementen</span>
<span class="hljs-keyword">const</span> input_a = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;input-a&#x27;</span>),
      input_b = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;input-b&#x27;</span>),
      input_c = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;input-c&#x27;</span>),
      input_d = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;input-d&#x27;</span>),
      phiSlider = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;phiSlider&#x27;</span>),
      phiOut = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;phiOut&#x27;</span>),
      speed = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;speed&#x27;</span>),
      velocity = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;velocity&#x27;</span>),
      acceleration = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;acceleration&#x27;</span>),
      path = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;path&#x27;</span>),
      releaseK = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;releaseK&#x27;</span>),
      connectK = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;connectK&#x27;</span>),
      info = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;info&#x27;</span>),
      startButton = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;startButton&#x27;</span>),
      resetButton = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;resetButton&#x27;</span>);
<span class="hljs-comment">/*
Deklaration einiger Event-Funktionen
*/</span>
<span class="hljs-comment">// Erstellung der Event-Handler</span>
input_a.addEventListener(<span class="hljs-string">&quot;input&quot;</span>, updateInput);
input_b.addEventListener(<span class="hljs-string">&quot;input&quot;</span>, updateInput);
input_c.addEventListener(<span class="hljs-string">&quot;input&quot;</span>, updateInput);
input_d.addEventListener(<span class="hljs-string">&quot;input&quot;</span>, updateInput);
phiSlider.addEventListener(<span class="hljs-string">&quot;input&quot;</span>, updateSlider);
speed.addEventListener(<span class="hljs-string">&quot;change&quot;</span>, changeSpeed);
startButton.addEventListener(<span class="hljs-string">&quot;click&quot;</span>, startStop);
releaseK.addEventListener(<span class="hljs-string">&quot;click&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{ <span class="hljs-comment">/*...*/</span> });
resetButton.addEventListener(<span class="hljs-string">&quot;click&quot;</span>,refreshPage);
</div></code></pre>
<h4 id=""></h4>
<p>Es darf nicht unerwähnt bleiben, dass einige sogenannter GUI-Bibliotheken bereits existieren und für die zuvor beschriebene Problemstellung einen Lösungsansatz bieten. Zwei sehr gute Lösung sind zum einen dat.GUI und zum andren Tweakpane, die im Grunde sehr ähnlich funktionieren. Nach Erstellung einer Instanz der jeweiligen JavaScript-Bibliothek stehen dem Benutzer zahlreiche Funktionen zur Verfügungen, die mit wenigen Zeilen Code ein graphisches Interface implementieren. Verknüpft mit einer beliebigen Variable lässt sich diese manipulieren. Dies soll an einem einfachen Beispiel unter dem Einsatz von <code>tweakpane.js</code> demonstriert werden.</p>
<p>Angenommen die Eckpunkte eines Dreiecks sollen durch ein Interface verstellbar sein, so kann das Dreieck durch ein Objekt, welches das Array <code>nodes</code> mit allen Eckpunkten beinhaltet, repräsentiert sein. Nach Erstellung einer neuen Instanz der Tweakpane-Klasse in der Konstanten <code>gui</code>, steht nun beispielsweise die Funktion <code>addInput()</code> zur Verfügung, die ein Input-Element erzeugt und das Steuern jener Koordinate ermöglicht. Auf diese Art und Weise lassen sich die einzelnen Koordinaten des Dreiecks, wie in der Auflistung 3 gezeigt, recht einfach mit einem Interface verbinden, was einer sauberen Lösung verglichen mit dem Code in Auflistung 1 und 2 gleicht.</p>
<h4 id="listing-3-demonstration-von-tweakpanejs">Listing 3: Demonstration von tweakpane.js</h4>
<pre><code class="code-line language-JavaScript"><div><span class="hljs-keyword">const</span> triangle = { <span class="hljs-comment">// Zielobjekt</span>
    <span class="hljs-attr">nodes</span>: [ {<span class="hljs-attr">x</span>:<span class="hljs-number">75</span>,<span class="hljs-attr">y</span>:<span class="hljs-number">50</span>}, {<span class="hljs-attr">x</span>:<span class="hljs-number">150</span>,<span class="hljs-attr">y</span>:<span class="hljs-number">200</span>}, {<span class="hljs-attr">x</span>:<span class="hljs-number">250</span>,<span class="hljs-attr">y</span>:<span class="hljs-number">10</span>} ] <span class="hljs-comment">// Array beinhaltet Eckpunkte des Dreiecks</span>
}
<span class="hljs-keyword">const</span> gui = <span class="hljs-keyword">new</span> Tweakpane();    <span class="hljs-comment">// Erstellt neue Instanz der Tweakpane-Klasse</span>
gui.addInput(triangle.nodes[<span class="hljs-number">0</span>], <span class="hljs-string">&#x27;x&#x27;</span>, {<span class="hljs-attr">label</span>: <span class="hljs-string">&#x27;A0x&#x27;</span>});   <span class="hljs-comment">// Aufrufen der nun</span>
gui.addInput(triangle.nodes[<span class="hljs-number">0</span>], <span class="hljs-string">&#x27;y&#x27;</span>, {<span class="hljs-attr">label</span>: <span class="hljs-string">&#x27;A0y&#x27;</span>});   <span class="hljs-comment">// zur Verfügung</span>
gui.addInput(triangle.nodes[<span class="hljs-number">1</span>], <span class="hljs-string">&#x27;x&#x27;</span>, {<span class="hljs-attr">label</span>: <span class="hljs-string">&#x27;B0x&#x27;</span>});   <span class="hljs-comment">// stehenden Funktionen</span>
gui.addInput(triangle.nodes[<span class="hljs-number">1</span>], <span class="hljs-string">&#x27;y&#x27;</span>, {<span class="hljs-attr">label</span>: <span class="hljs-string">&#x27;B0y&#x27;</span>});   <span class="hljs-comment">// ...</span>
gui.addInput(triangle.nodes[<span class="hljs-number">2</span>], <span class="hljs-string">&#x27;x&#x27;</span>, {<span class="hljs-attr">label</span>: <span class="hljs-string">&#x27;C0x&#x27;</span>});   <span class="hljs-comment">// ...</span>
gui.addInput(triangle.nodes[<span class="hljs-number">2</span>], <span class="hljs-string">&#x27;y&#x27;</span>, {<span class="hljs-attr">label</span>: <span class="hljs-string">&#x27;C0x&#x27;</span>});   <span class="hljs-comment">// ...</span>
</div></code></pre>
<h4 id="livebeispiel">Livebeispiel 1:</h4>
<aside style="max-width:60%; float:left;">
<h4>Ausgabe:</h4>
<span id="output"><span>
</aside>
<aside>
<h4>Tweakpane Interface</h4>
<span id="someContainer"><span>
</aside>
<script>
   const triangle = {
    nodes: [ {x:75,y:50}, {x:150,y:200}, {x:250,y:10} ]
}
const gui = new Tweakpane({container: document.getElementById('someContainer')}); 
gui.addInput(triangle.nodes[0], 'x', {label: 'A0x'});
gui.addInput(triangle.nodes[0], 'y', {label: 'A0y'});
gui.addInput(triangle.nodes[1], 'x', {label: 'B0x'});
gui.addInput(triangle.nodes[1], 'y', {label: 'B0y'});
gui.addInput(triangle.nodes[2], 'x', {label: 'C0x'});
gui.addInput(triangle.nodes[2], 'y', {label: 'C0x'});
document.getElementById('output').innerHTML = `const triangle = { <br>&nbsp;
    nodes: [ {x: ${triangle.nodes[0].x}, y: ${triangle.nodes[0].y}}, {x: ${triangle.nodes[1].x}, y: ${triangle.nodes[1].y}}, {x: ${triangle.nodes[2].x}, y: ${triangle.nodes[2].y}} ] <br>} `;
gui.on('change', () => {
  document.getElementById('output').innerHTML = `const triangle = { <br>&nbsp;
    nodes: [ {x: ${triangle.nodes[0].x}, y: ${triangle.nodes[0].y}}, {x: ${triangle.nodes[1].x}, y: ${triangle.nodes[1].y}}, {x: ${triangle.nodes[2].x}, y: ${triangle.nodes[2].y}} ] <br>} `;
});
</script>
<p><br><br><br><br><br><br><br><br></p>
<p>Anders als die gängigen GUI-Bibliotheken, welche dem Benutzer lediglich verschiedene Funktionen bereitstellen, beschäftigt sich diese Studienarbeit mit dem Entwurf einer minimalistischen JavaScript-Bibliothek, die dem Anwender ein benutzerdefiniertes HTML Element (engl.: custom HTML element) zur Verfügung stellt. Dieses Element, auch Webkomponente genannt, nimmt ähnlich wie GUI-Bibliotheken die Programmierung einer graphischen Steuerung weitestgehend ab und gewährt damit die geforderte Interaktivität. Jedoch bringt es zusätzlich noch einige weitere Vorteile mit sich, die diese Arbeit im weiteren Verlauf verdeutlicht.</p>
<h2 id="document-object-model">Document Object Model</h2>
<figure>
<img width=600px src="./DOM.png"/>
<h4>Abb. 2: Beispiel eines Document Object Models</h4>
</figure>
<p>Das Document Object Model (kurz DOM) ist eine elementare Webtechnologie und wichtig für das weitere Verständnis. Das DOM kann auch als Schnittstelle zwischen dem statischen HTML und dem dynamischen JavaScript aufgefasst werden[^1]. Beim Laden einer Webseite erstellen alle modernen Browser aus dem HTML, das als einfacher Text aufgefasst werden kann, ein Modell bestehend aus Knoten, die entsprechend einer Baumstruktur angeordnet sind. Abbildung 2 stellt eine mögliche Baumstruktur dar.</p>
<p>Es wird zwischen vier Knotentypen unterschieden:</p>
<ul>
<li>Dokumentenknoten (Blau): Ausgangspunkt für alle weiteren Aktionen.</li>
<li>Elementknoten (Grün): HTML-Elemente z.B. <code>&lt;p&gt;</code>, <code>&lt;h1&gt;</code>, <code>&lt;body&gt;</code> usw. werden zu Elementknoten im DOM-Baum</li>
<li>Attributeknoten (Orange): Zum Beispiel die Klasse oder ID eines Elementknoten.</li>
<li>Textknoten (Violett): Text bzw.<code>innerHTML</code> wird in Textknoten gespeichert.</li>
</ul>
<p>Jeder Knoten ist für sich ein Objekt und beinhaltet Methoden und Eigenschaften [^1]. Das heißt es ist möglich mittels JavaScript Knoten auszuwählen, zu verändern, zu entfernen und zu erzeugen. So erstellt zum Beispiel der Befehl</p>
<pre><code class="code-line language-JavaScript"><div><span class="hljs-keyword">const</span> title = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">&#x27;h1&#x27;</span>);
</div></code></pre>
<p>ein <code>&lt;h1&gt;</code>-Element in der Variable <code>title</code>, die anschließend mit</p>
<pre><code class="code-line language-JavaScript"><div>title.textContent = <span class="hljs-string">&#x27;Kapitel 2&#x27;</span>;
<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&#x27;bodyID&#x27;</span>).appendChild(title);
</div></code></pre>
<p>einen Textknoten erhält und an das Element mit der <code>id = 'bodyID'</code> angeheftet wird. Diese beispielhafte Vorgehensweise wird auch DOM-Manipulation genannt[^1] und stellt die Grundlage aller JavaScript GUI-Bibliotheken dar.</p>
<h2 id="webkomponente">Webkomponente</h2>
<p>Webkomponente sind im Vergleich zum world wide web eine recht junge Technologie. Erstmals vorgestellt wurde es 2011 von Alex Russell. Die Idee dahinter ist es das DOM erweiterbar zu machen und damit die Art und Weise, wie zukünftig Webanwendungen gebaut werden, zu verändern<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>.</p>
<p>Nochmal zurück zur Codeliste 1, welche zeigt, dass eine einfache Steuerung sich durchaus mit nativen HTML-Elementen implementieren lässt. Unglücklicherweise birgt dieser Code hauptsächlich Nachteile. Der Aufwand ist groß, der Code besitzt kaum Semantik, alle Komponenten sind im DOM sichtbar, wodurch das gesamte Dokument mit jedem weiteren Element an Übersicht verliert und schlussendlich kann es nicht einmal wiederverwendet werden.</p>
<p>Der Ansatz von <code>Tweakpane.js</code> ist besser, da es abstrakt betrachtet mittels JavaScript alle Elemente im Hintergrund erzeugt, dann in einer Komponente, meist einem <code>&lt;div&gt;</code> oder <code>&lt;span&gt;</code> bündelt und anschließend an das DOM heftet. Insofern kommt der Benutzer mit dem erzeugten HTML-Code nicht in Berührung. Dennoch kritisiert Russel diesen Ansatz, indem er sich fragt, ob es uns wirklich gut tut, wenn wir auf diese Weise alles, was keine Semantik besitzt, in JavaScript vor uns selbst verstecken, damit wir uns nicht schuldig fühlen müssen<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup>. Zudem bleibt das Problem, dass die sogenannten Kind-Elemente gleichermaßen im DOM sichtbar sind und zum Beispiel vom <code>CSS</code> des Benutzers unbeabsichtigt beeinflusst werden können, bzw. andersherum kann das <code>CSS</code> solcher Skripte die Anwendung des Benutzers beeinträchtigen.</p>
<p>Die Webkomponente wirkt diesen Problemen entgegen, indem es seine Funktionalität in sich von außen kapselt<sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup>. Anders gesagt, ermöglicht es, individuelle HTML-Elemente zu erstellen, die beispielsweise ähnlich dem <code>&lt;button&gt;</code>-Element, von außen betrachtet undurchsichtig sind, ungeachtet dessen eine vielseitige Funktion erfüllen. Das Ganze setzt sich aus den drei Haupttechnologien</p>
<ul>
<li>Benutzerdefinierte Elemente</li>
<li>Shadow DOM</li>
<li>HTML-Vorlagen</li>
</ul>
<p>zusammen und wird nachfolgend näher betrachtet, wobei HTML-Vorlagen außen vor gelassen werden, da sie innerhalb dieser Arbeit nicht verwendet wurden. Sie dienen dem benutzerdefiniertem Element als Schablone und können mehrfach wiederverwendet werden [^3].</p>
<h3 id="benutzerdefinierte-elemente">Benutzerdefinierte Elemente</h3>
<h3 id="shadow-dom">Shadow DOM</h3>
<p>Das shadow DOM ist diejenige Technik, die die HTML-Struktur, das CSS und das Verhalten der Webkomponente von dem eigentlichen Dokument trennt[^1]. Im wesentlichen unterscheidet es sich von dem regulären DOM nicht. Die einzelnen Knoten der Baumstruktur sind genauso als Objekte mit den selben Eigenschaften und Methoden vertreten. Infolgedessen kann die Vorgehensweise aus dem Kapitel DOM analog zur Manipulation angewendet werden. Der Unterschied ist, dass</p>
<pre><code class="code-line language-JavaScript"><div><span class="hljs-keyword">let</span> shadowRoot = elementRef.attachShadow({<span class="hljs-attr">mode</span>:<span class="hljs-string">&#x27;open&#x27;</span>});
</div></code></pre>
<p>initiiert.</p>
<p>Das sogenannte shadow-tree wird and das eigentliche DOM Angehängt an das</p>
<p><canvas id="cv" width="350" height="250"></canvas></p>
<script>
    const ctx = document.getElementById("cv").getContext("2d");
    var model = {
        "nodes": [
            { "id": "A0", "x": 75, "y": 50 },
            { "id": "B0", "x": 150, "y": 200 },
            { "id": "C0", "x": 250, "y": 10 }
        ],
        "constraints": [
        { "id": "a", "p1": "A0", "p2": "B0" }, 
        { "id": "b", "p1": "B0", "p2": "C0" }, 
        { "id": "c", "p1": "C0", "p2": "A0" }
        ]
    };
    mec.model.extend(model);
    model.init();
    function render() {
        const g = g2().del().clr().view({ cartesian: true });
        model.draw(g);
        g.exe(ctx);
    return g;
    }
    function start() {
        console.log('Animation is running!');
    }
    render()
</script>
<ctrl-ing ref="model" header="Steuerung eines Dreiecks">
{
    "add": [
        { "id":"A0x","dropdown":{"label":"A0.x","default":"min","mid":100,"high":200},"path":"nodes/0/x","on":{ "input":"render" } }, 
        { "id":"A0y","slider":{"min":50,"max":350,"step":0.5,"label":"A0.y"},"path":"nodes/0/y","on":{ "change":"render" } }, 
        { "toggle":{ "label":"B0.x", "switchTo": 220 },"path":"nodes/1/x","on":{ "click":"render" } }, 
        { "number":{ "label":"B0.y" },"path":"nodes/1/y","on":{ "input":"render" } }, 
        { "button": { "label":"Start" }, "on":{ "click":"start" } },
        { "color": { "label": "Fill", "color":"#DE3163" } },
        { "output": { "label":"velocity", "unit":"m/s" }, "path": "nodes/0/x" }
    ]
}
</ctrl-ing>
<p>Zur Implementierung einer Steuerung für das einfache Beispiel eines Dreiecks genügt dieser HTML-Code:</p>
<p><br><br><br><br></p>
<pre><code class="code-line language-JSON"><div>&lt;ctrl-ing ref=<span class="hljs-string">&quot;model&quot;</span> header=<span class="hljs-string">&quot;Steuerung eines Dreiecks&quot;</span> id=<span class="hljs-string">&quot;ctrling&quot;</span>&gt;
{
    <span class="hljs-attr">&quot;add&quot;</span>:[
        { <span class="hljs-attr">&quot;input&quot;</span>:{ <span class="hljs-attr">&quot;label&quot;</span>:<span class="hljs-string">&quot;A0.x&quot;</span> },<span class="hljs-attr">&quot;path&quot;</span>:<span class="hljs-string">&quot;nodes/0/x&quot;</span>,<span class="hljs-attr">&quot;on&quot;</span>:{ <span class="hljs-attr">&quot;input&quot;</span>:<span class="hljs-string">&quot;render&quot;</span> } },
        { <span class="hljs-attr">&quot;input&quot;</span>:{ <span class="hljs-attr">&quot;label&quot;</span>:<span class="hljs-string">&quot;A0.y&quot;</span> },<span class="hljs-attr">&quot;path&quot;</span>:<span class="hljs-string">&quot;nodes/0/y&quot;</span>,<span class="hljs-attr">&quot;on&quot;</span>:{ <span class="hljs-attr">&quot;input&quot;</span>:<span class="hljs-string">&quot;render&quot;</span> } },
        { <span class="hljs-attr">&quot;input&quot;</span>:{ <span class="hljs-attr">&quot;label&quot;</span>:<span class="hljs-string">&quot;B0.x&quot;</span> },<span class="hljs-attr">&quot;path&quot;</span>:<span class="hljs-string">&quot;nodes/1/x&quot;</span>,<span class="hljs-attr">&quot;on&quot;</span>:{ <span class="hljs-attr">&quot;input&quot;</span>:<span class="hljs-string">&quot;render&quot;</span> } },
        { <span class="hljs-attr">&quot;input&quot;</span>:{ <span class="hljs-attr">&quot;label&quot;</span>:<span class="hljs-string">&quot;B0.y&quot;</span> },<span class="hljs-attr">&quot;path&quot;</span>:<span class="hljs-string">&quot;nodes/1/y&quot;</span>,<span class="hljs-attr">&quot;on&quot;</span>:{ <span class="hljs-attr">&quot;input&quot;</span>:<span class="hljs-string">&quot;render&quot;</span> } },
        { <span class="hljs-attr">&quot;input&quot;</span>:{ <span class="hljs-attr">&quot;label&quot;</span>:<span class="hljs-string">&quot;C0.x&quot;</span> },<span class="hljs-attr">&quot;path&quot;</span>:<span class="hljs-string">&quot;nodes/2/x&quot;</span>,<span class="hljs-attr">&quot;on&quot;</span>:{ <span class="hljs-attr">&quot;input&quot;</span>:<span class="hljs-string">&quot;render&quot;</span> } },
        { <span class="hljs-attr">&quot;input&quot;</span>:{ <span class="hljs-attr">&quot;label&quot;</span>:<span class="hljs-string">&quot;C0.y&quot;</span> },<span class="hljs-attr">&quot;path&quot;</span>:<span class="hljs-string">&quot;nodes/2/y&quot;</span>,<span class="hljs-attr">&quot;on&quot;</span>:{ <span class="hljs-attr">&quot;input&quot;</span>:<span class="hljs-string">&quot;render&quot;</span> } }
    ]
}
&lt;/ctrl-ing&gt;
</div></code></pre>
<h2 id="quellen">Quellen</h2>
<p>[1] <a href="https://fronteers.nl/congres/2011/sessions/web-components-and-model-driven-views-alex-russell">https://fronteers.nl/congres/2011/sessions/web-components-and-model-driven-views-alex-russell</a>
[2] <a href="https://developer.mozilla.org/de/docs/Web/Web_Components">https://developer.mozilla.org/de/docs/Web/Web_Components</a>
<a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_shadow_DOM">https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_shadow_DOM</a></p>
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p>1 <a href="#fnref1" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn2" class="footnote-item"><p>1 <a href="#fnref2" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn3" class="footnote-item"><p>3 <a href="#fnref3" class="footnote-backref">↩︎</a></p>
</li>
</ol>
</section>

</article>
</main>
<footer>
  <script src="https://cdn.jsdelivr.net/gh/dmitrijLo/ctrl-ing@master/src/ctrling.min.js"></script>
  <script src="./bin/g2.html.js"></script>
  <script src="./bin/navigation.js"></script>
  <span class="left">&copy; Dmitrij</span>
  <span class="center">powered by &mu;Jam &amp; <a href="https://code.visualstudio.com/">VSCode</a> &mdash; hosted by <a href="https://github.com/">GitHub</a></span>
  <span class="right"
        title="toggle light/dark theme"
        onclick="document.documentElement.className = document.documentElement.className === 'theme-dark' ? 'theme-light' : 'theme-dark';">
    &#9788;
  </span>
</footer>
</body>
</html>